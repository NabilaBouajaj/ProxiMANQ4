<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/WEB-INF/tags/layout.xhtml">
	<ui:define name="content">


		<h1>Virements</h1>

		<div class="well well-lg">
			<p:dataTable value="#{bankController.obtenirListeClients()}" var="c">

				<p:column headerText="Nom">
					<h:form>

						<h:commandLink value="#{c.nom}"
							action="#{clientController.detailsClient(c.id)}">
						</h:commandLink>
					</h:form>
				</p:column>

				<p:column headerText="PrÃ©nom">
					<h:form>
						<h:commandLink value="#{c.prenom}"
							action="#{clientController.detailsClient(c.id)}">
						</h:commandLink>
					</h:form>
				</p:column>
				<p:column headerText="Id compte courant">
					<h:form>
						<h:commandLink value="#{c.listCompte.compteCourant.id}"
							action="#{clientService.detailsClient(c.id)}">
						</h:commandLink>
					</h:form>
				</p:column>

				<p:column headerText="Solde compte courant">
					<h:form>
						<h:commandLink value="#{c.listCompte.compteCourant.montant}"
							action="#{clientService.detailsClient(c.id)}">
						</h:commandLink>
					</h:form>
				</p:column>

				<p:column headerText="Id compte epargne">
					<h:form>

						<h:commandLink value="#{c.listCompte.compteEpargne.id}"
							action="#{clientService.detailsClient(c.id)}">
						</h:commandLink>
					</h:form>
				</p:column>
				<p:column headerText="solde compte epargne">
					<h:form>
						<h:commandLink value="#{c.listCompte.compteEpargne.montany}"
							action="#{clientService.detailsClient(c.id)}">

						</h:commandLink>
					</h:form>
				</p:column>

				

			</p:dataTable>
		</div>

<div class="well well-lg">
<h:outputLabel value="Choisir le compte expediteur: *" for="compteEx" />
<h:selectOneMenu id="compteEx" value="${bankController.listClient}">
</h:selectOneMenu>
</div>
<div class="well well-lg">
<h:outputLabel value="Choisir le compte beneficiaire: *" for="compteBe" />
<h:selectOneMenu id="compteBe" value="${bankController.listClient}">
</h:selectOneMenu>
</div>

<div class="well well-lg">

<p:outputLabel for="montant" value="Montant" />
				<p:inputText id="montant" value="#{virementController.montant}"
					validatorMessage="Au moins un chiffre et pas de lettre">
					<f:validateRegex pattern="^([0-9]{1})" />
				</p:inputText>
				<p:message for="numero" />
				
<p class="virement">
				<p:commandButton action="#{virementController.virement()}"
					value="Effectuer le virement" validateClient="true" />
			</p>
				

			

</div>
    
	

	</ui:define>
</ui:composition>

</html>